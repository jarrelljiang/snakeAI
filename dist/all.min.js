function l(t){return s(t)||o(t)||i()}function i(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function o(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function s(t){if(Array.isArray(t)){for(var i=0,o=new Array(t.length);i<t.length;i++)o[i]=t[i];return o}}function t(t,i,o){var s,e=t.ownerDocument,h=e.defaultView||e.parentWindow;e.createEvent?(h.KeyEvent?(s=e.createEvent("KeyEvents")).initKeyEvent(i,!0,!0,h,!1,!1,!1,!1,o,0):(s=e.createEvent("UIEvents"),Object.defineProperty(s,"keyCode",{get:function(){return this.keyCodeVal}}),Object.defineProperty(s,"which",{get:function(){return this.keyCodeVal}}),s.initUIEvent(i,!0,!0,h,1),s.keyCodeVal=o,s.keyCode!==o&&console.log("keyCode "+s.keyCode+" 和 ("+s.which+") 不匹配")),t.dispatchEvent(s)):e.createEventObject&&((s=e.createEventObject()).keyCode=o,t.fireEvent("on"+i,s))}function y(t,i){var o=t.length-1,s=t[0].length-1;return 0<=i.x&&i.x<=o&&0<=i.y&&i.y<=s&&0==t[i.x][i.y]}var u=[[0,1],[0,-1],[-1,0],[1,0]],b=["R","L","U","D"];function c(t,i,o,s){this.x=t,this.y=i,this.step=o,this.path=s}function g(t,i){var o=t.length-1,s=t[0].length-1;return!(i.x<0||i.x>o||i.y<0||i.y>s||1==t[i.x][i.y])}var v=[],p=1e4,f="",m=[];function k(t,i,o,s,e,h){v=[],p=1e4;var r=[];for(r.push(new c(i[0],i[1],0,""));0!=r.length;){var a=r[0];if(r.shift(),a.x==o[0]&&a.y==o[1])p>a.step?(p=a.step,v.push(a.path)):p==a.step&&v.push(a.path);else for(var n=0;n<4;n++){var d=a.x+u[n][0],l=a.y+u[n][1],y=new c(d,l,a.step+1,a.path+b[n]);g(t,y)&&(r.push(y),d==o[0]&&l==o[1]||(t[d][l]=1))}}e&&v[0]&&m.push(s+v[0]),h&&x.virtualSnakeHasEat&&(m.push(s),x.virtualSnakeHasEat=!1)}var B,x,w,e,r=0,a=[],n=[[0,1],[1,0],[0,-1],[-1,0]],d=["R","D","L","U"];function M(t,i,o,s){r++;var e=[];if(i[0]==o[0]&&i[1]==o[1])(0==a.length||s.length>=a[0].length)&&(0==a.length||s.length>a[0].length?(a=[]).push(s):s.length!=a[0].length||s[0]==a[0][0]||a[1]&&s[0]==a[1][0]||a.push(s));else for(var h=0;h<4&&!(2e5<r);h++)e[0]=i[0]+n[h][0],e[1]=i[1]+n[h][1],e[0]<0||e[0]>t.length-1||e[0]<0||e[1]>t[0].length-1||0==t[e[0]][e[1]]&&(t[e[0]][e[1]]=1,M(t,[e[0],e[1]],o,s+d[h]),t[e[0]][e[1]]=0)}var h=30,T=0,S=1,E=!1;function H(){this.width=800,this.height=400,this.position="relative",this._map=null,this.map1=null,this.initMapArr=[],this.show=function(){for(var t=0;t<this.height/40;t++){this.initMapArr.push([]);for(var i=0;i<this.width/40;i++)this.initMapArr[t].push(0)}this._map=document.createElement("div"),this._map.id="bodyMap",this.map1=document.createElement("div"),this.map1.style.width="946px",this.map1.style.height="501px",this.map1.style.backgroundImage="url(images/map.png)",this._map.style.position="absolute",this._map.style.width=this.width+"px",this._map.style.height=this.height+"px",this._map.style.top="50px",this._map.style.left="73px",this.map1.style.position=this.position,this.map1.style.margin="0 auto",document.body.appendChild(this.map1),this.map1.style.opacity=0,this.map1.style.transition="2s",this.map1.appendChild(this._map)}}function L(){this.width=40,this.height=40,this.position="absolute",this.background="url(images/body2.png)",this.x=0,this.y=0,this._food,this.show=function(){this._food=document.createElement("div"),this._food.style.width=this.width+"px",this._food.style.height=this.height+"px",this._food.style.position=this.position,this._food.style.background=this.background,this._food.style.backgroundSize="100%",this.x=Math.floor(Math.random()*B.width/this.width),this.y=Math.floor(Math.random()*B.height/this.width);for(var t=[],i=0;i<B.height/w.height;i++)for(var o=0;o<B.width/w.width;o++)t.push([o,i]);for(var s=!0,e=[],o=0;o<t.length;o++){for(s=!0,i=0;i<x.body.length;i++)if(x.body[i][0]==t[o][0]&&x.body[i][1]==t[o][1]){s=!1;break}s&&e.push(t[o])}var h=Math.floor(Math.random()*e.length);this.x=e[h][0],this.y=e[h][1],this._food.style.left=this.x*this.width,this._food.style.top=this.y*this.height,B._map.appendChild(this._food)}}function _(){this.width=40,this.height=40,this.position="absolute",this.direct=null,this.virtualBody=[],this.virtualSnakeHasEat=!1,this.body=new Array([4,2,"url(images/head-right.png)",null],[3,2,"url(images/body1.png)",null],[2,2,"url(images/tail2-right.png)",null],[1,2,"url(images/tail-right.png)",null]),this.show=function(){for(var t=0;t<this.body.length;t++)null==this.body[t][3]&&(this.body[t][3]=document.createElement("div"),this.body[t][3].style.width=this.width,this.body[t][3].style.height=this.height,this.body[t][3].style.position=this.position,this.body[this.body.length-2][2]="url(images/tail2-right.png)",this.body[this.body.length-3][2]="url(images/body1.png)",this.body[t][3].style.background=this.body[t][2],B._map.appendChild(this.body[t][3])),this.body[t][3].style.left=this.body[t][0]*this.width+"px",this.body[t][3].style.top=this.body[t][1]*this.height+"px";for(t=0;t<this.body.length;t++){var i,o,s=this.body[t],e=s[0],s=s[1];0==t?s<(o=this.body[t+1])[1]?(this.body[t][3].style.background="url(images/head-up.png)",this.body[t][3].style.backgroundSize="88% 100%",this.body[t][3].style.backgroundPosition="center"):e>o[0]?(this.body[t][3].style.background="url(images/head-right.png)",this.body[t][3].style.backgroundSize="100% 88%",this.body[t][3].style.backgroundPosition="center"):s>o[1]?(this.body[t][3].style.background="url(images/head-down.png)",this.body[t][3].style.backgroundSize="88% 100%",this.body[t][3].style.backgroundPosition="center"):e<o[0]&&(this.body[t][3].style.background="url(images/head-left.png)",this.body[t][3].style.backgroundSize="100% 88%",this.body[t][3].style.backgroundPosition="center"):t==this.body.length-1?(i=this.body[t-1])[1]<s?(this.body[t][3].style.background="url(images/tail-up.png)",this.body[t][3].style.backgroundSize="88% 100%",this.body[t][3].style.backgroundPosition="center"):i[0]>e?(this.body[t][3].style.background="url(images/tail-right.png)",this.body[t][3].style.backgroundSize="100% 88%",this.body[t][3].style.backgroundPosition="center"):i[1]>s?(this.body[t][3].style.background="url(images/tail-down.png)",this.body[t][3].style.backgroundSize="88% 100%",this.body[t][3].style.backgroundPosition="center"):i[0]<e&&(this.body[t][3].style.background="url(images/tail-left.png)",this.body[t][3].style.backgroundSize="100% 88%",this.body[t][3].style.backgroundPosition="center"):(t==this.body.length-2?(i=this.body[t-1])[1]<s?this.body[t][3].style.background="url(images/tail2-up.png)":i[0]>e?this.body[t][3].style.background="url(images/tail2-right.png)":i[1]>s?this.body[t][3].style.background="url(images/tail2-down.png)":i[0]<e&&(this.body[t][3].style.background="url(images/tail2-left.png)"):this.body[t][3].style.background="url(images/body1.png)",i=this.body[t-1],o=this.body[t+1],i[0]<e&&o[1]>s||o[0]<e&&i[1]>s?(this.body[t][3].style.backgroundSize="100%",this.body[t][3].style.backgroundPosition="-2.5px 2.5px",this.body[t][3].style.borderRadius="0 30px 0 5px"):i[1]<s&&o[0]<e||o[1]<s&&i[0]<e?(this.body[t][3].style.backgroundSize="100%",this.body[t][3].style.backgroundPosition="-2.5px -2.5px",this.body[t][3].style.borderRadius="5px 0 30px 0"):i[0]>e&&o[1]<s||o[0]>e&&i[1]<s?(this.body[t][3].style.backgroundSize="100%",this.body[t][3].style.backgroundPosition="2.5px -2.5px",this.body[t][3].style.borderRadius="0 5px 0 30px"):i[1]>s&&o[0]>e||o[1]>s&&i[0]>e?(this.body[t][3].style.backgroundSize="100%",this.body[t][3].style.backgroundPosition="2.5px 2.5px",this.body[t][3].style.borderRadius="30px 0 5px 0"):i[0]<e&&o[0]>e||o[0]<e&&i[0]>e?(this.body[t][3].style.backgroundSize="100% 88%",this.body[t][3].style.backgroundPosition="center",this.body[t][3].style.borderRadius=0):(i[1]<s&&o[1]>s||o[1]<s&&i[1]>s)&&(this.body[t][3].style.backgroundSize="88% 100%",this.body[t][3].style.backgroundPosition="center",this.body[t][3].style.borderRadius=0))}},this.move=function(){switch(this.virtualSnakeHasEat=!1,119<this.body.length?169<this.body.length?this.dfsLongestToTail():1==Math.abs(this.body[0][0]-w.x)&&this.body[0][1]==w.y||1==Math.abs(this.body[0][1]-w.y)&&this.body[0][0]==w.x?this.shortestMovetoFood():this.moveToTail():Math.random()<.11?this.farthestMovetoFood():this.shortestMovetoFood(),this.direct){case"R":if(this.body[0][0]!=w.x-1||this.body[0][1]!=w.y){for(var t=this.body.length-1;0<t;t--)this.body[t][0]=this.body[t-1][0],this.body[t][1]=this.body[t-1][1];this.body[0][0]=this.body[0][0]+1,this.body[0][3].style.background="url(images/head-right.png)"}else this.eatFoodHandle();break;case"L":if(this.body[0][0]!=w.x+1||this.body[0][1]!=w.y){for(t=this.body.length-1;0<t;t--)this.body[t][0]=this.body[t-1][0],this.body[t][1]=this.body[t-1][1];this.body[0][0]=this.body[0][0]-1,this.body[0][3].style.background="url(images/head-left.png)"}else this.eatFoodHandle();break;case"U":if(this.body[0][0]!=w.x||this.body[0][1]!=w.y+1){for(t=this.body.length-1;0<t;t--)this.body[t][0]=this.body[t-1][0],this.body[t][1]=this.body[t-1][1];this.body[0][1]=this.body[0][1]-1,this.body[0][3].style.background="url(images/head-up.png)"}else this.eatFoodHandle();break;case"D":if(this.body[0][0]!=w.x||this.body[0][1]!=w.y-1){for(t=this.body.length-1;0<t;t--)this.body[t][0]=this.body[t-1][0],this.body[t][1]=this.body[t-1][1];this.body[0][1]=this.body[0][1]+1,this.body[0][3].style.background="url(images/head-down.png)"}else this.eatFoodHandle()}this.condition()},this.shortestMovetoFood=function(t){this.virtualSnakeHasEat=!1;for(var i,o=B.initMapArr.map(function(t){return l(t)}),s=0;s<this.body.length-1;s++)o[this.body[s][1]][this.body[s][0]]=1;k(o,[this.body[0][1],this.body[0][0]],[w.y,w.x]),p<1e4?(i=l(v),this.virtualEatFood(v[0][0]),p<1e4?this.movetoFoodWillLonely(i)?t?this.dfsLongestToTail():this.moveToTail():this.direct=i[0][0]:i[1]&&(this.virtualEatFood(i[1][0],!0),p<1e4)?this.direct=i[1][0]:t?this.dfsLongestToTail():this.moveToTail()):(t?this.dfsLongestToTail():this.moveToTail(),v||console.log("最短路径不能吃到食物、蛇头也连不通"))},this.farthestMovetoFood=function(){f="",m=[];for(var t,i=0;i<4;i++){for(var o=this.body[0][1]+u[i][0],s=this.body[0][0]+u[i][1],e=B.initMapArr.map(function(t){return l(t)}),h=0;h<this.body.length-1;h++)e[this.body[h][1]][this.body[h][0]]=1;if(g(e,{x:o,y:s})){this.virtualBody=this.body.map(function(t){return l(t)}),this.virtualMove(b[i]);for(var e=B.initMapArr.map(function(t){return l(t)}),r=0;r<this.virtualBody.length-1;r++)e[this.virtualBody[r][1]][this.virtualBody[r][0]]=1;k(e,[o,s],[w.y,w.x],b[i],!0,!0)}}this.virtualSnakeHasEat=!1,0<m.length?(m.sort(function(t,i){return i.length-t.length}),t=l(m),this.virtualEatFood(m[0][0],!1),p<1e4?this.direct=t[0][0]:t[1]&&(this.virtualEatFood(t[1][0],!0),p<1e4)?this.direct=t[1][0]:this.moveToTail()):(this.moveToTail(),v||console.log("最短路径不能吃到食物、蛇头也连不通"))},this.virtualMove=function(t){switch(t){case"R":if(this.virtualBody[0][0]!=w.x-1||this.virtualBody[0][1]!=w.y){for(var i=this.virtualBody.length-1;0<i;i--)this.virtualBody[i][0]=this.virtualBody[i-1][0],this.virtualBody[i][1]=this.virtualBody[i-1][1];this.virtualBody[0][0]=this.virtualBody[0][0]+1}else this.virtualBody.unshift([w.x,w.y,"url(images/head-right.png)",null]),this.virtualSnakeHasEat=!0;break;case"L":if(this.virtualBody[0][0]!=w.x+1||this.virtualBody[0][1]!=w.y){for(i=this.virtualBody.length-1;0<i;i--)this.virtualBody[i][0]=this.virtualBody[i-1][0],this.virtualBody[i][1]=this.virtualBody[i-1][1];this.virtualBody[0][0]=this.virtualBody[0][0]-1}else this.virtualBody.unshift([w.x,w.y,"url(images/head-right.png)",null]),this.virtualSnakeHasEat=!0;break;case"U":if(this.virtualBody[0][0]!=w.x||this.virtualBody[0][1]!=w.y+1){for(i=this.virtualBody.length-1;0<i;i--)this.virtualBody[i][0]=this.virtualBody[i-1][0],this.virtualBody[i][1]=this.virtualBody[i-1][1];this.virtualBody[0][1]=this.virtualBody[0][1]-1}else this.virtualBody.unshift([w.x,w.y,"url(images/head-right.png)",null]),this.virtualSnakeHasEat=!0;break;case"D":if(this.virtualBody[0][0]!=w.x||this.virtualBody[0][1]!=w.y-1){for(i=this.virtualBody.length-1;0<i;i--)this.virtualBody[i][0]=this.virtualBody[i-1][0],this.virtualBody[i][1]=this.virtualBody[i-1][1];this.virtualBody[0][1]=this.virtualBody[0][1]+1}else this.virtualBody.unshift([w.x,w.y,"url(images/head-right.png)",null]),this.virtualSnakeHasEat=!0}},this.moveToTail=function(){f="",m=[];for(var t=0;t<4;t++){for(var i=this.body[0][1]+u[t][0],o=this.body[0][0]+u[t][1],s=B.initMapArr.map(function(t){return l(t)}),e=0;e<this.body.length-1;e++)s[this.body[e][1]][this.body[e][0]]=1;if(g(s,{x:i,y:o})){this.virtualBody=this.body.map(function(t){return l(t)}),this.virtualMove(b[t]);for(var s=B.initMapArr.map(function(t){return l(t)}),h=0;h<this.virtualBody.length-1;h++)s[this.virtualBody[h][1]][this.virtualBody[h][0]]=1;var r=this.virtualBody.length-1;k(s,[i,o],[this.virtualBody[r][1],this.virtualBody[r][0]],b[t],!0)}}m.sort(function(t,i){return i.length-t.length}),this.virtualBody=this.body.map(function(t){return l(t)}),this.virtualMove(m[0][0]);for(s=B.initMapArr.map(function(t){return l(t)}),h=0;h<this.virtualBody.length;h++)s[this.virtualBody[h][1]][this.virtualBody[h][0]]=1;if(1<m.length){for(var a=!1,t=0;t<4;t++){var a=!1,n=[this.virtualBody[0][0]+u[t][0],this.virtualBody[0][1]+u[t][1]];if(g(s,{x:n[1],y:n[0]})){for(var d=0;d<4;d++)if(y(s,{x:i=n[1]+u[d][0],y:o=n[0]+u[d][1]})){a=!0;break}if(!a)return void(this.direct=m[1][0])}}1==Math.abs(this.body[0][0]-w.x)&&1==Math.abs(this.body[0][1]-w.y)&&this.movetoFoodWillLonely(m,!0)?this.direct=m[1][0]:this.direct=m[0][0]}else this.direct=m[0][0]},this.dfsLongestToTail=function(){n=[[1,0],[0,1],[0,-1],[-1,0]],d=["D","R","L","U"];for(var t=B.initMapArr.map(function(t){return l(t)}),i=0;i<this.body.length-1;i++)t[this.body[i][1]][this.body[i][0]]=1;r=0,a="";var o=this.body.length-1;M(t,[this.body[0][1],this.body[0][0]],[this.body[o][1],this.body[o][0]],""),a[1]&&(this.virtualBody=this.body.map(function(t){return l(t)}),this.virtualMove(a[1][0]),this.virtualSnakeHasEat)?(this.direct=a[1][0],this.virtualSnakeHasEat=!1):this.direct=a[0][0]},this.virtualEatFood=function(e){var h=!1;function t(t){for(this.virtualBody=this.body.map(function(t){return l(t)}),this.virtualMove(e);!this.virtualSnakeHasEat;){for(var i=B.initMapArr.map(function(t){return l(t)}),o=0;o<this.virtualBody.length-1;o++)i[this.virtualBody[o][1]][this.virtualBody[o][0]]=1;k(i,[this.virtualBody[0][1],this.virtualBody[0][0]],[w.y,w.x]),v[1]?this.virtualMove(v[t][0]):this.virtualMove(v[0][0])}this.virtualSnakeHasEat=!1;for(i=B.initMapArr.map(function(t){return l(t)}),o=0;o<this.virtualBody.length-1;o++)i[this.virtualBody[o][1]][this.virtualBody[o][0]]=1;var s=this.virtualBody.length-1;k(i,[this.virtualBody[0][1],this.virtualBody[0][0]],[this.virtualBody[s][1],this.virtualBody[s][0]]),p<1e4&&(h=!0)}t.call(this,1),h||t.call(this,0)},this.movetoFoodWillLonely=function(t,i){this.virtualBody=this.body.map(function(t){return l(t)}),this.virtualMove(t[0][0]),i&&(1==Math.abs(this.virtualBody[0][0]-w.x)&&this.virtualBody[0][1]==w.y||1==Math.abs(this.virtualBody[0][1]-w.y)&&this.virtualBody[0][0]==w.x)&&this.virtualBody.unshift([w.x,w.y,"url(images/head-right.png)",null]);for(var o=B.initMapArr.map(function(t){return l(t)}),s=0;s<this.virtualBody.length;s++)o[this.virtualBody[s][1]][this.virtualBody[s][0]]=1;for(var e=!1,h=0;h<4;h++){var e=!1,r=[this.virtualBody[0][0]+u[h][0],this.virtualBody[0][1]+u[h][1]];if(g(o,{x:r[1],y:r[0]})){for(var a=0;a<4;a++)if(y(o,{x:r[1]+u[a][0],y:r[0]+u[a][1]})){e=!0;break}if(!e)return!0}}return!1},this.speed=function(){e=setInterval(function(){this.move()}.bind(this),h)},this.condition=function(){for(var t=1;t<this.body.length;t++)this.body[0][0]==this.body[t][0]&&this.body[0][1]==this.body[t][1]&&(clearInterval(e),gameOver.style.display="block",E=!1,score.innerHTML=T,document.all.sound.src="music/die.mp3");"block"==getComputedStyle(gameOver).display?clearInterval(e):this.body[0][0]<0||this.body[0][0]>=B.width/this.width||this.body[0][1]<0||this.body[0][1]>=B.height/this.height?(clearInterval(e),gameOver.style.display="block",E=!1,score.innerHTML=T,document.all.sound.src="music/die.mp3"):this.show()},this.eatFoodHandle=function(){if(b=this.body.length<128?.3<Math.random()?(u=[[0,1],[0,-1],[-1,0],[1,0]],["R","L","U","D"]):(u=[[-1,0],[1,0],[0,1],[0,-1]],["U","D","R","L"]):128<=this.body.length&&this.body.length<146?(u=[[-1,0],[1,0],[0,1],[0,-1]],["U","D","R","L"]):(u=[[0,1],[0,-1],[-1,0],[1,0]],["R","L","U","D"]),document.all.sound.src="music/eat.mp3",T++,this.body.unshift([w.x,w.y,"url(images/head-right.png)",null]),B._map.removeChild(w._food),200!=this.body.length)w.show();else{document.all.sound.src="music/pass.mp3",script.style.transform="rotateY(360deg)",script.innerHTML="已通关!!!",script.disabled=!0,script.style.cursor="default",clearInterval(e);for(var i=document.createElement("div"),o=(i.style.width="40px",i.style.height="40px",i.style.borderRadius="10px",i.style.position="absolute",i.style.background="rgba(255,255,255,0.7)",B._map.appendChild(i),this.body.map(function(t){return l(t)}).reverse()),t=0;t<o.length;t++)(t=>{setTimeout(function(){i.style.top=40*o[t][1]+"px",i.style.left=40*o[t][0]+"px"},15*(t+1))})(t);setTimeout(function(){B._map.removeChild(i)},15*(o.length+1))}"-28px"==getComputedStyle(scoreBox).top&&(scoreBox.style.transition="0s",scoreBox.style.top="0px",first.innerHTML=second.innerHTML),setTimeout(function(){second.innerHTML=parseInt(second.innerHTML)+1,scoreBox.style.transition="1.2s",scoreBox.style.top="-28px"})}}document.onkeydown=function(t){if("none"==getComputedStyle(gameStart).display&&"none"==getComputedStyle(gameOver).display&&13==t.keyCode&&(200==x.body.length&&location.reload(),0==E?(null==x.direct&&(x.direct="R",x.speed(),script.innerHTML="点击暂停",script.className=""),null==e&&(e=setInterval(function(){x.move()},h),document.title="贪吃蛇",script.innerHTML="点击暂停",script.className="",paused.style.display="none"),E=!0):(clearInterval(e),e=null,E=!1,document.title="贪吃蛇-暂停中···",script.innerHTML="启动AI",script.className="light",paused.style.display="block")),1==E)switch(t.keyCode){case 38:x.direct=x.body[0][0]==x.body[1][0]?x.direct:"U","D"!=x.direct&&(x.move(),clearInterval(e),e=setInterval(function(){x.move()},h));break;case 40:x.direct=x.body[0][0]==x.body[1][0]?x.direct:"D","U"!=x.direct&&(x.move(),clearInterval(e),e=setInterval(function(){x.move()},h));break;case 39:x.direct=x.body[0][1]==x.body[1][1]?x.direct:"R","L"!=x.direct&&(x.move(),clearInterval(e),e=setInterval(function(){x.move()},h));break;case 37:x.direct=x.body[0][1]==x.body[1][1]?x.direct:"L","R"!=x.direct&&(x.move(),clearInterval(e),e=setInterval(function(){x.move()},h))}},window.onload=function(){start.onclick=function(){footer.style.right=0,gameStart.style.opacity=0,message.style.opacity=1,h2.style.opacity=1,buttonDiv.style.opacity=1,img.style.opacity=1,B.map1.style.opacity=1,setTimeout(function(){gameStart.style.display="none"},2e3)},start.onmouseover=function(){this.src="images/start-hover.png"},start.onmouseout=function(){this.src="images/start.png"},setTimeout(function(){start.style.display="block",start.style.opacity=1,start.style.transform="scale(1)"},2300),setTimeout(function(){tan.style.left="300px",tan.style.transform="rotate(3600deg)"},50),setTimeout(function(){chi.style.top="6px",chi.style.transform="rotate(1080deg)"},50),setTimeout(function(){she.style.right="345px",she.style.transform="rotate(3600deg)"},50),bubbly({colorStart:"#fff4e6",colorStop:"#ffe9e4",blur:1,compose:"source-over",bubbleFunc:function(){return"hsla(".concat(50*Math.random(),", 100%, 50%, .3)")}}),(B=new H).show(),(x=new _).show(),(w=new L).show(),script.onclick=function(){h=20,t(document.documentElement,"keydown",13)}};
window.bubbly=function(t){function o(){return Math.random()}var e=t||{},n=e.canvas||document.createElement("canvas"),r=n.width,a=n.height,i=(null===n.parentNode&&(n.setAttribute("style","position:fixed;z-index:-1;left:0;top:0;min-width:100vw;min-height:100vh;"),r=n.width=window.innerWidth,a=n.height=window.innerHeight,document.body.appendChild(n)),n.getContext("2d")),l=(i.shadowColor=e.shadowColor||"#fff",i.shadowBlur=e.blur||4,i.createLinearGradient(0,0,r,a));l.addColorStop(0,e.colorStart||"#2AE"),l.addColorStop(1,e.colorStop||"#17B");for(var d=e.bubbles||Math.floor(.02*(r+a)),h=[],c=0;c<d;c++)h.push({f:(e.bubbleFunc||function(){return"hsla(0, 0%, 100%, "+.1*o()+")"}).call(),x:o()*r,y:o()*a,r:4+o()*r/25,a:o()*Math.PI*2,v:.1+.5*o()});!function t(){return null===n.parentNode?cancelAnimationFrame(t):(!1!==e.animate&&requestAnimationFrame(t),i.globalCompositeOperation="source-over",i.fillStyle=l,i.fillRect(0,0,r,a),i.globalCompositeOperation=e.compose||"lighter",void h.forEach(function(t){i.beginPath(),i.arc(t.x,t.y,t.r,0,2*Math.PI),i.fillStyle=t.f,i.fill(),t.x+=Math.cos(t.a)*t.v,t.y+=Math.sin(t.a)*t.v,r<t.x-t.r&&(t.x=-t.r),t.x+t.r<0&&(t.x=r+t.r),a<t.y-t.r&&(t.y=-t.r),t.y+t.r<0&&(t.y=a+t.r)}))}()};